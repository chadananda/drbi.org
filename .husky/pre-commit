echo "ðŸ”¨ Running build check before commit..."

# Run the build (which also generates analytics summary)
npm run build

# Check if build succeeded
if [ $? -ne 0 ]; then
  echo "âŒ Build failed! Please fix the errors before committing."
  exit 1
fi

# Add any modified analytics files to the commit
if [ -f "src/data/analytics-summary.json" ]; then
  git add src/data/analytics-summary.json 2>/dev/null || true
fi

echo "âœ… Build passed! Proceeding with commit..."
